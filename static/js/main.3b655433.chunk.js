(this["webpackJsonpkduia-shopping-app"]=this["webpackJsonpkduia-shopping-app"]||[]).push([[0],{11:function(e,t,s){"use strict";s.r(t);s(3);var c=s(1),n=s.n(c),a=s(4),i=s.n(a);var r=(e,t)=>{let s=[];switch(t.type){case"ADD_QUANTITY":return s=e.expenses.map((e=>e.name===t.payload.name?{...e,quantity:e.quantity+t.payload.quantity}:e)),{...e,expenses:s};case"RED_QUANTITY":return s=e.expenses.map((e=>e.name===t.payload.name?{...e,quantity:Math.max(0,e.quantity-t.payload.quantity)}:e)),{...e,expenses:s};case"DELETE_ITEM":return s=e.expenses.map((e=>e.name===t.payload.name?{...e,quantity:0}:e)),{...e,expenses:s};case"CHG_LOCATION":return{...e,Location:t.payload};default:return e}},l=s(0);const j={expenses:JSON.parse(localStorage.getItem("expenses"))||[{id:"Shirt",name:"Shirt",quantity:0,unitprice:500},{id:"Jeans",name:"Jeans",quantity:0,unitprice:300},{id:"Dress",name:"Dress",quantity:0,unitprice:400},{id:"Dinner set",name:"Dinner set",quantity:0,unitprice:600},{id:"Bags",name:"Bags",quantity:0,unitprice:200}],Location:"\xa3"},d=Object(c.createContext)(),o=e=>{const[t,s]=Object(c.useReducer)(r,j);Object(c.useEffect)((()=>{localStorage.setItem("expenses",JSON.stringify(t.expenses))}),[t.expenses]);const n=t.expenses.reduce(((e,t)=>e+t.unitprice*t.quantity),0);return Object(l.jsx)(d.Provider,{value:{...t,dispatch:s,CartValue:n},children:e.children})};var u=()=>{const{expenses:e,Location:t}=Object(c.useContext)(d),s=e.reduce(((e,t)=>e+t.unitprice*t.quantity),0);return Object(l.jsx)("div",{className:"alert alert-primary",children:Object(l.jsxs)("span",{children:["Cart Value: ",t,s]})})},p=s(5);var h=e=>{const{dispatch:t,Location:s}=Object(c.useContext)(d);return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:e.name}),Object(l.jsx)("td",{children:e.quantity}),Object(l.jsxs)("td",{children:[s,e.unitprice]}),Object(l.jsxs)("td",{children:[s,e.quantity*e.unitprice]}),Object(l.jsx)("td",{children:Object(l.jsx)(p.a,{size:"2.2em",color:"red",onClick:()=>{t({type:"DELETE_ITEM",payload:{name:e.name}})}})})]})};var x=()=>{const{expenses:e}=Object(c.useContext)(d);return Object(l.jsxs)("table",{className:"table",children:[Object(l.jsx)("thead",{className:"thead-light",children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{scope:"col",children:"Items"}),Object(l.jsx)("th",{scope:"col",children:"Quantity"}),Object(l.jsx)("th",{scope:"col",children:"Unit Price"}),Object(l.jsx)("th",{scope:"col",children:"Items Price"}),Object(l.jsx)("th",{scope:"col",children:"Remove"})]})}),Object(l.jsx)("tbody",{children:e.map((e=>Object(l.jsx)(h,{...e},e.id)))})]})};var b=()=>{const{dispatch:e}=Object(c.useContext)(d),[t,s]=Object(c.useState)(""),[n,a]=Object(c.useState)(""),[i,r]=Object(c.useState)("Add");return Object(l.jsx)("div",{children:Object(l.jsx)("div",{className:"row",children:Object(l.jsxs)("div",{className:"input-group mb-3",style:{marginLeft:"2rem"},children:[Object(l.jsx)("div",{className:"input-group-prepend",children:Object(l.jsx)("label",{className:"input-group-text",htmlFor:"inputGroupSelect01",children:"Items"})}),Object(l.jsxs)("select",{className:"custom-select",id:"inputGroupSelect01",onChange:e=>s(e.target.value),children:[Object(l.jsx)("option",{defaultValue:!0,children:"Choose..."}),Object(l.jsx)("option",{value:"Shirt",children:"Shirt"}),Object(l.jsx)("option",{value:"Dress",children:"Dress"}),Object(l.jsx)("option",{value:"Jeans",children:"Jeans"}),Object(l.jsx)("option",{value:"Dinner set",children:"Dinner set"}),Object(l.jsx)("option",{value:"Bags",children:"Bags"})]}),Object(l.jsx)("div",{className:"input-group-prepend",style:{marginLeft:"2rem"},children:Object(l.jsx)("label",{className:"input-group-text",htmlFor:"inputGroupSelect02",children:"Quantity"})}),Object(l.jsxs)("select",{className:"custom-select",id:"inputGroupSelect02",onChange:e=>r(e.target.value),children:[Object(l.jsx)("option",{defaultValue:!0,value:"Add",children:"Add"}),Object(l.jsx)("option",{value:"Reduce",children:"Reduce"})]}),Object(l.jsx)("span",{className:"eco",style:{marginLeft:"2rem",marginRight:"8px"}}),Object(l.jsx)("input",{required:"required",type:"number",id:"cost",value:n,style:{size:10},onChange:e=>a(e.target.value)}),Object(l.jsx)("button",{className:"btn btn-primary",onClick:()=>{const s={name:t,quantity:parseInt(n)};e("Reduce"===i?{type:"RED_QUANTITY",payload:s}:{type:"ADD_QUANTITY",payload:s})},style:{marginLeft:"2rem"},children:"Save"})]})})})};var m=()=>{const{dispatch:e}=Object(c.useContext)(d);return Object(l.jsxs)("div",{className:"alert alert-secondary",children:[" Location",Object(l.jsxs)("select",{name:"Location",id:"Location",onChange:t=>{return s=t.target.value,void e({type:"CHG_LOCATION",payload:s});var s},children:[Object(l.jsx)("option",{value:"\xa3",children:"UK(\xa3)"}),Object(l.jsx)("option",{value:"\u20b9",children:"India(\u20b9)"}),Object(l.jsx)("option",{value:"\u20ac",children:"Europe(\u20ac)"}),Object(l.jsx)("option",{value:"CAD",children:"Canada(CAD)"})]})]})};var O=function(){return Object(l.jsx)(o,{children:Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)("h1",{className:"mt-3",children:"Shopping Cart"}),Object(l.jsxs)("div",{className:"row mt-3",children:[Object(l.jsx)("div",{className:"col-sm",children:Object(l.jsx)(u,{})}),Object(l.jsx)("div",{className:"col-sm",children:Object(l.jsx)(m,{})})]}),Object(l.jsx)("h3",{className:"mt-3",children:"Items"}),Object(l.jsx)("div",{className:"row",children:Object(l.jsx)("div",{className:"col-sm",children:Object(l.jsx)(x,{})})}),Object(l.jsx)("h3",{className:"mt-3",children:"Add/Reduce Item Quantity"}),Object(l.jsx)("div",{className:"row mt-3",children:Object(l.jsx)("div",{className:"col-sm",children:Object(l.jsx)(b,{})})})]})})};i.a.render(Object(l.jsx)(n.a.StrictMode,{children:Object(l.jsx)(O,{})}),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.3b655433.chunk.js.map